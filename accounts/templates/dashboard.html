{% extends "base.html" %}
{% block content %}
<div class="card p-4 mb-4 shadow-sm">
  <h3>ðŸ’° Funds</h3>
  {% if funds %}
    <ul>
      <li>Available Cash: â‚¹{{ funds.available_cash }}</li>
      <li>Total Equity Value: â‚¹{{ funds.equity_value }}</li>
      <li>Total Derivatives Margin: â‚¹{{ funds.derivatives_margin }}</li>
    </ul>
  {% else %}
    <p class="text-danger">No fund data available</p>
  {% endif %}
</div>

<div class="card p-4 mb-4 shadow-sm">
  <h3>ðŸ“Š Holdings</h3>
  <table class="table table-bordered text-center">
    <thead class="table-light">
      <tr>
        <th>Symbol</th>
        <th>Quantity</th>
        <th>Avg Price</th>
        <th>LTP</th>
        <th>P&L</th>
      </tr>
    </thead>
    <tbody>
      {% for h in holdings %}
      <tr>
        <td>{{ h.symbol }}</td>
        <td>{{ h.quantity }}</td>
        <td>{{ h.avg_price }}</td>
        <td>{{ h.ltp }}</td>
        <td>{{ h.pnl }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="5">No holdings available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="card p-4 shadow-sm">
  <h3>ðŸ“ˆ Positions</h3>
  <table class="table table-bordered text-center">
    <thead class="table-light">
      <tr>
        <th>Symbol</th>
        <th>Quantity</th>
        <th>Buy Price</th>
        <th>LTP</th>
        <th>MTM</th>
      </tr>
    </thead>
    <tbody>
      {% for p in positions %}
      <tr>
        <td>{{ p.symbol }}</td>
        <td>{{ p.quantity }}</td>
        <td>{{ p.buy_price }}</td>
        <td>{{ p.ltp }}</td>
        <td>{{ p.mtm }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="5">No positions available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
